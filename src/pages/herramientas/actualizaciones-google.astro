---
import ToolLayout from '../../layouts/ToolLayout.astro';
import ErrorBoundary from '../../components/ErrorBoundary.astro';

---

<ToolLayout
  title="Detector de Actualizaciones de Google | SEO Tools Gratuitas"
  description="Mantente informado sobre las últimas actualizaciones del algoritmo de Google y su impacto en el SEO."
  toolName="Detector de Actualizaciones de Google"
>
  <div class="space-y-6">
    <div class="bg-white p-6 rounded-lg border border-gray-200">
      <h2 class="text-xl font-semibold text-gray-900 mb-4">Últimas actualizaciones detectadas</h2>
      <div class="space-y-4" id="updatesList">
        <div class="animate-pulse">
          <div class="h-4 bg-gray-200 rounded w-3/4"></div>
          <div class="space-y-3 mt-4">
            <div class="h-4 bg-gray-200 rounded"></div>
            <div class="h-4 bg-gray-200 rounded"></div>
            <div class="h-4 bg-gray-200 rounded w-5/6"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="mt-8">
      <h3 class="text-lg font-medium text-gray-900 mb-4">Configurar alertas</h3>
      <div class="max-w-xl">
        <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
          Email para notificaciones
        </label>
        <div class="flex gap-4">
          <input
            type="email"
            id="email"
            class="shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md"
            placeholder="tu@email.com"
          />
          <button
            type="button"
            id="subscribeBtn"
            class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
          >
            Suscribirse
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const updatesList = document.querySelector('#updatesList') as HTMLDivElement;
    const emailInput = document.querySelector('#email') as HTMLInputElement;
    const subscribeBtn = document.querySelector('#subscribeBtn') as HTMLButtonElement;

    // Simular carga de actualizaciones
    setTimeout(() => {
      const updates = [
        {
          date: '2024-03-15',
          title: 'Actualización del algoritmo principal',
          description: 'Google ha lanzado una actualización importante que afecta a la clasificación de contenido E-E-A-T.'
        },
        {
          date: '2024-03-01',
          title: 'Actualización de enlaces',
          description: 'Nueva actualización centrada en la evaluación de la calidad de los enlaces entrantes.'
        },
        {
          date: '2024-02-15',
          title: 'Actualización de experiencia de usuario',
          description: 'Mejoras en la evaluación de Core Web Vitals y experiencia móvil.'
        }
      ];

      updatesList.innerHTML = updates.map(update => `
        <div class="border-b border-gray-200 pb-4">
          <div class="flex items-center justify-between mb-2">
            <h3 class="text-lg font-medium text-gray-900">${update.title}</h3>
            <span class="text-sm text-gray-500">${update.date}</span>
          </div>
          <p class="text-gray-600">${update.description}</p>
        </div>
      `).join('');
    }, 1500);

    subscribeBtn.addEventListener('click', () => {
      const email = emailInput.value.trim();
      if (!email) {
        alert('Por favor, ingresa tu email');
        return;
      }

      subscribeBtn.disabled = true;
      subscribeBtn.textContent = 'Suscrito ✓';
      alert('Te has suscrito correctamente a las alertas de actualizaciones.');
    });
  </script>
</ToolLayout>